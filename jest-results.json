{"numFailedTestSuites":1,"numFailedTests":0,"numPassedTestSuites":21,"numPassedTests":516,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":1,"numTodoTests":0,"numTotalTestSuites":22,"numTotalTests":516,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1762501961154,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["ConfigLoader","constructor"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader constructor 应该使用默认配置路径","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该使用默认配置路径"},{"ancestorTitles":["ConfigLoader","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader constructor 应该使用提供的配置路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用提供的配置路径"},{"ancestorTitles":["ConfigLoader","load"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader load 应该成功加载和验证配置","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该成功加载和验证配置"},{"ancestorTitles":["ConfigLoader","load"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader load 应该处理配置文件不存在","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理配置文件不存在"},{"ancestorTitles":["ConfigLoader","load"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader load 应该处理配置文件不可读","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理配置文件不可读"},{"ancestorTitles":["ConfigLoader","load"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader load 应该处理非文件路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理非文件路径"},{"ancestorTitles":["ConfigLoader","load"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader load 应该处理JSON解析错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理JSON解析错误"},{"ancestorTitles":["ConfigLoader","load"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader load 应该处理验证错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理验证错误"},{"ancestorTitles":["ConfigLoader","processConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader processConfig 应该处理路径配置","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该处理路径配置"},{"ancestorTitles":["ConfigLoader","processConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader processConfig 应该从URL提取域名","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该从URL提取域名"},{"ancestorTitles":["ConfigLoader","processConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader processConfig 应该添加运行时信息","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该添加运行时信息"},{"ancestorTitles":["ConfigLoader","processConfig"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader processConfig 应该处理已存在的allowedDomains","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理已存在的allowedDomains"},{"ancestorTitles":["ConfigLoader","get"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader get 应该返回已加载的配置","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回已加载的配置"},{"ancestorTitles":["ConfigLoader","get"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader get 应该在未加载时抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在未加载时抛出错误"},{"ancestorTitles":["ConfigLoader","getValue"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getValue 应该获取顶层配置值","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该获取顶层配置值"},{"ancestorTitles":["ConfigLoader","getValue"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getValue 应该获取嵌套配置值","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该获取嵌套配置值"},{"ancestorTitles":["ConfigLoader","getValue"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getValue 应该为不存在的键返回默认值","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该为不存在的键返回默认值"},{"ancestorTitles":["ConfigLoader","getValue"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getValue 应该在未加载时抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在未加载时抛出错误"},{"ancestorTitles":["ConfigLoader","getValue"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getValue 应该处理undefined默认值","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理undefined默认值"},{"ancestorTitles":["ConfigLoader","isLoaded"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader isLoaded 应该返回加载状态","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该返回加载状态"},{"ancestorTitles":["ConfigLoader","reload"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader reload 应该重新加载配置","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该重新加载配置"},{"ancestorTitles":["ConfigLoader","getSummary"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getSummary 应该返回未加载状态的摘要","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回未加载状态的摘要"},{"ancestorTitles":["ConfigLoader","getSummary"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader getSummary 应该返回已加载配置的摘要","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回已加载配置的摘要"},{"ancestorTitles":["ConfigLoader","resolvePath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader resolvePath 应该保持绝对路径不变","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该保持绝对路径不变"},{"ancestorTitles":["ConfigLoader","resolvePath"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader resolvePath 应该相对于配置文件目录解析相对路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该相对于配置文件目录解析相对路径"},{"ancestorTitles":["ConfigLoader","extractDomainsFromUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigLoader extractDomainsFromUrl 应该处理无效的URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理无效的URL"},{"ancestorTitles":["便捷函数","loadConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"便捷函数 loadConfig 应该创建加载器并返回配置","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该创建加载器并返回配置"},{"ancestorTitles":["便捷函数","loadConfig"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"便捷函数 loadConfig 应该使用默认路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用默认路径"},{"ancestorTitles":["便捷函数","createConfigLoader"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"便捷函数 createConfigLoader 应该创建ConfigLoader实例","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该创建ConfigLoader实例"},{"ancestorTitles":["便捷函数","createConfigLoader"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"便捷函数 createConfigLoader 应该使用默认路径创建实例","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该使用默认路径创建实例"}],"endTime":1762501961999,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/config/configLoader.test.js","startTime":1762501961300,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PDFStyleService","constructor"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService constructor should initialize with default settings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should initialize with default settings"},{"ancestorTitles":["PDFStyleService","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService constructor should merge config with defaults","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should merge config with defaults"},{"ancestorTitles":["PDFStyleService","detectThemeMode"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService detectThemeMode should detect dark theme from class names","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect dark theme from class names"},{"ancestorTitles":["PDFStyleService","detectThemeMode"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService detectThemeMode should detect dark theme from data-theme attribute","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect dark theme from data-theme attribute"},{"ancestorTitles":["PDFStyleService","detectThemeMode"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService detectThemeMode should detect dark theme from background color","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect dark theme from background color"},{"ancestorTitles":["PDFStyleService","detectThemeMode"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService detectThemeMode should default to light theme when detection fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should default to light theme when detection fails"},{"ancestorTitles":["PDFStyleService","detectThemeMode"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService detectThemeMode should detect night theme","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect night theme"},{"ancestorTitles":["PDFStyleService","getPDFOptimizedCSS"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService getPDFOptimizedCSS should return CSS string with required rules","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should return CSS string with required rules"},{"ancestorTitles":["PDFStyleService","getPDFOptimizedCSS"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService getPDFOptimizedCSS should include code block styling","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should include code block styling"},{"ancestorTitles":["PDFStyleService","getPDFOptimizedCSS"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService getPDFOptimizedCSS should include syntax highlighting colors","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should include syntax highlighting colors"},{"ancestorTitles":["PDFStyleService","applyPDFStyles"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService applyPDFStyles should apply PDF styles successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should apply PDF styles successfully"},{"ancestorTitles":["PDFStyleService","applyPDFStyles"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService applyPDFStyles should handle missing content selector","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle missing content selector"},{"ancestorTitles":["PDFStyleService","applyPDFStyles"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService applyPDFStyles should handle evaluation errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle evaluation errors"},{"ancestorTitles":["PDFStyleService","getPDFOptions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService getPDFOptions should return PDF options with correct settings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return PDF options with correct settings"},{"ancestorTitles":["PDFStyleService","processSpecialContent"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService processSpecialContent should process special content successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should process special content successfully"},{"ancestorTitles":["PDFStyleService","processSpecialContent"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService processSpecialContent should handle processing errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle processing errors gracefully"},{"ancestorTitles":["PDFStyleService","integration scenarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService integration scenarios should handle full workflow","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle full workflow"},{"ancestorTitles":["PDFStyleService","integration scenarios"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService integration scenarios should continue working after theme detection failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should continue working after theme detection failure"},{"ancestorTitles":["PDFStyleService","CSS generation edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PDFStyleService CSS generation edge cases should handle custom settings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle custom settings"}],"endTime":1762501962000,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/pdfStyleService.test.js","startTime":1762501961292,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ProgressTracker","constructor"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker constructor 应该正确初始化","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该正确初始化"},{"ancestorTitles":["ProgressTracker","start"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker start 应该开始追踪任务","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该开始追踪任务"},{"ancestorTitles":["ProgressTracker","start"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker start 应该在detailed模式下启动进度显示","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在detailed模式下启动进度显示"},{"ancestorTitles":["ProgressTracker","start"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker start 应该在simple模式下不启动进度显示","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在simple模式下不启动进度显示"},{"ancestorTitles":["ProgressTracker","success"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker success 应该记录成功的URL","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该记录成功的URL"},{"ancestorTitles":["ProgressTracker","success"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker success 应该避免重复计数","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该避免重复计数"},{"ancestorTitles":["ProgressTracker","success"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker success 应该更新ETA","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该更新ETA"},{"ancestorTitles":["ProgressTracker","failure"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker failure 应该记录失败的URL","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该记录失败的URL"},{"ancestorTitles":["ProgressTracker","failure"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker failure 应该处理将要重试的失败","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该处理将要重试的失败"},{"ancestorTitles":["ProgressTracker","failure"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker failure 应该避免重复计数失败","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该避免重复计数失败"},{"ancestorTitles":["ProgressTracker","skip"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker skip 应该记录跳过的URL","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该记录跳过的URL"},{"ancestorTitles":["ProgressTracker","skip"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker skip 应该避免重复计数跳过","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该避免重复计数跳过"},{"ancestorTitles":["ProgressTracker","retry"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker retry 应该记录重试","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该记录重试"},{"ancestorTitles":["ProgressTracker","startUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker startUrl 应该开始处理URL","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该开始处理URL"},{"ancestorTitles":["ProgressTracker","finish"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker finish 应该完成追踪并显示报告","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该完成追踪并显示报告"},{"ancestorTitles":["ProgressTracker","finish"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker finish 应该停止进度显示","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该停止进度显示"},{"ancestorTitles":["ProgressTracker","updateETA"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker updateETA 应该计算预计完成时间","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该计算预计完成时间"},{"ancestorTitles":["ProgressTracker","updateETA"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker updateETA 应该处理没有进度的情况","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理没有进度的情况"},{"ancestorTitles":["ProgressTracker","updateETA"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker updateETA 应该处理所有任务完成的情况","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理所有任务完成的情况"},{"ancestorTitles":["ProgressTracker","getStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker getStats 应该返回正确的统计信息","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该返回正确的统计信息"},{"ancestorTitles":["ProgressTracker","getStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker getStats 应该处理零进度的情况","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该处理零进度的情况"},{"ancestorTitles":["ProgressTracker","getSummary"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker getSummary 应该返回任务摘要","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回任务摘要"},{"ancestorTitles":["ProgressTracker","日志输出"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 日志输出 应该在详细模式下输出进度日志","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在详细模式下输出进度日志"},{"ancestorTitles":["ProgressTracker","日志输出"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 日志输出 应该在简单模式下不输出进度日志","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在简单模式下不输出进度日志"},{"ancestorTitles":["ProgressTracker","进度条"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 进度条 应该创建正确的进度条","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该创建正确的进度条"},{"ancestorTitles":["ProgressTracker","进度条"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 进度条 应该处理边界值","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该处理边界值"},{"ancestorTitles":["ProgressTracker","时间格式化"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 时间格式化 应该正确格式化时间","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该正确格式化时间"},{"ancestorTitles":["ProgressTracker","定期进度显示"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 定期进度显示 应该定期显示进度","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该定期显示进度"},{"ancestorTitles":["ProgressTracker","定期进度显示"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 定期进度显示 应该停止进度显示","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该停止进度显示"},{"ancestorTitles":["ProgressTracker","最终报告"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 最终报告 应该显示成功的最终报告","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该显示成功的最终报告"},{"ancestorTitles":["ProgressTracker","最终报告"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker 最终报告 应该显示失败的URL","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该显示失败的URL"},{"ancestorTitles":["ProgressTracker","exportDetailedReport"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ProgressTracker exportDetailedReport 应该导出详细报告","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该导出详细报告"}],"endTime":1762501962010,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/progressTracker.test.js","startTime":1762501961300,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["StateManager","constructor"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"StateManager constructor 应该正确初始化状态","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"应该正确初始化状态"},{"ancestorTitles":["StateManager","load"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"StateManager load 应该成功加载状态数据","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"应该成功加载状态数据"},{"ancestorTitles":["StateManager","load"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"StateManager load 应该在加载失败时发出load-error事件","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在加载失败时发出load-error事件"},{"ancestorTitles":["StateManager","load"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager load 应该处理空的状态数据","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该处理空的状态数据"},{"ancestorTitles":["StateManager","save"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"StateManager save 应该保存状态到磁盘","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该保存状态到磁盘"},{"ancestorTitles":["StateManager","save"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager save 应该在5秒内不重复保存","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在5秒内不重复保存"},{"ancestorTitles":["StateManager","save"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager save 应该在force=true时强制保存","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在force=true时强制保存"},{"ancestorTitles":["StateManager","save"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager save 应该处理保存错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该处理保存错误"},{"ancestorTitles":["StateManager","自动保存"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 自动保存 startAutoSave应该启动定时器","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"startAutoSave应该启动定时器"},{"ancestorTitles":["StateManager","自动保存"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 自动保存 应该定期自动保存","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该定期自动保存"},{"ancestorTitles":["StateManager","自动保存"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 自动保存 不应该重复启动自动保存","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"不应该重复启动自动保存"},{"ancestorTitles":["StateManager","自动保存"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 自动保存 stopAutoSave应该停止定时器","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stopAutoSave应该停止定时器"},{"ancestorTitles":["StateManager","自动保存"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 自动保存 应该处理自动保存错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理自动保存错误"},{"ancestorTitles":["StateManager","URL管理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 setUrlIndex应该设置双向映射","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"setUrlIndex应该设置双向映射"},{"ancestorTitles":["StateManager","URL管理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 isProcessed应该检查URL是否已处理","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"isProcessed应该检查URL是否已处理"},{"ancestorTitles":["StateManager","URL管理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 markProcessed应该标记URL为已处理","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"markProcessed应该标记URL为已处理"},{"ancestorTitles":["StateManager","URL管理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 markProcessed应该从失败列表中移除URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"markProcessed应该从失败列表中移除URL"},{"ancestorTitles":["StateManager","URL管理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 markFailed应该标记URL为失败","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"markFailed应该标记URL为失败"},{"ancestorTitles":["StateManager","URL管理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 getFailedUrls应该返回失败URL列表","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getFailedUrls应该返回失败URL列表"},{"ancestorTitles":["StateManager","URL管理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager URL管理 clearFailure应该清除失败记录","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"clearFailure应该清除失败记录"},{"ancestorTitles":["StateManager","文章标题管理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 文章标题管理 setArticleTitle应该保存标题","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"setArticleTitle应该保存标题"},{"ancestorTitles":["StateManager","图片加载失败管理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 图片加载失败管理 markImageLoadFailure应该记录失败","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"markImageLoadFailure应该记录失败"},{"ancestorTitles":["StateManager","统计信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 统计信息 getStats应该返回正确的统计信息","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"getStats应该返回正确的统计信息"},{"ancestorTitles":["StateManager","统计信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager 统计信息 应该处理空状态的统计","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理空状态的统计"},{"ancestorTitles":["StateManager","reset"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StateManager reset 应该重置所有状态","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"应该重置所有状态"},{"ancestorTitles":["StateManager","setStartTime"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StateManager setStartTime 应该设置开始时间","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该设置开始时间"},{"ancestorTitles":["StateManager","exportReport"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StateManager exportReport 应该导出完整报告","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该导出完整报告"}],"endTime":1762501962016,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/stateManager.test.js","startTime":1762501961303,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["setup","setupContainer"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"setup setupContainer should create and configure container successfully","invocations":1,"location":null,"numPassingAsserts":23,"retryReasons":[],"status":"passed","title":"should create and configure container successfully"},{"ancestorTitles":["setup","setupContainer"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"setup setupContainer should handle setup errors and dispose container","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle setup errors and dispose container"},{"ancestorTitles":["setup","setupContainer"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"setup setupContainer should log error if disposal fails during setup error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should log error if disposal fails during setup error"},{"ancestorTitles":["setup","setupContainer"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"setup setupContainer should create services with correct configurations","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should create services with correct configurations"},{"ancestorTitles":["setup","createContainer"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"setup createContainer should call setupContainer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call setupContainer"},{"ancestorTitles":["setup","getContainerHealth"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"setup getContainerHealth should return container health information","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return container health information"},{"ancestorTitles":["setup","shutdownContainer"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"setup shutdownContainer should dispose container successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should dispose container successfully"},{"ancestorTitles":["setup","shutdownContainer"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"setup shutdownContainer should handle disposal errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle disposal errors"},{"ancestorTitles":["setup","service factory edge cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"setup service factory edge cases should handle missing config values with defaults","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle missing config values with defaults"},{"ancestorTitles":["setup","service factory edge cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"setup service factory edge cases should handle async service factories","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle async service factories"}],"endTime":1762501962034,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/core/setup.test.js","startTime":1762501961313,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PageManager","constructor"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"PageManager constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["PageManager","constructor"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"PageManager constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["PageManager","createPage"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPage should create a page successfully","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should create a page successfully"},{"ancestorTitles":["PageManager","createPage"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPage should throw error if page manager is closed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if page manager is closed"},{"ancestorTitles":["PageManager","createPage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPage should throw error if page ID already exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if page ID already exists"},{"ancestorTitles":["PageManager","createPage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPage should release browser on page creation failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should release browser on page creation failure"},{"ancestorTitles":["PageManager","createPage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPage should emit page-created event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit page-created event"},{"ancestorTitles":["PageManager","configurePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager configurePage should configure page with custom user agent","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should configure page with custom user agent"},{"ancestorTitles":["PageManager","configurePage"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PageManager configurePage should enable request interception when specified","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should enable request interception when specified"},{"ancestorTitles":["PageManager","configurePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager configurePage should block requests from blocked domains","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should block requests from blocked domains"},{"ancestorTitles":["PageManager","configurePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager configurePage should hide webdriver properties","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should hide webdriver properties"},{"ancestorTitles":["PageManager","setupPageEvents"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager setupPageEvents should handle page errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle page errors"},{"ancestorTitles":["PageManager","setupPageEvents"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager setupPageEvents should handle page JavaScript errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle page JavaScript errors"},{"ancestorTitles":["PageManager","setupPageEvents"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager setupPageEvents should ignore known JavaScript errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should ignore known JavaScript errors"},{"ancestorTitles":["PageManager","setupPageEvents"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"PageManager setupPageEvents should handle page crash","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle page crash"},{"ancestorTitles":["PageManager","setupPageEvents"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager setupPageEvents should track page requests","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should track page requests"},{"ancestorTitles":["PageManager","setupPageEvents"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager setupPageEvents should emit page-response event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit page-response event"},{"ancestorTitles":["PageManager","getPage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager getPage should return page if exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return page if exists"},{"ancestorTitles":["PageManager","getPage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager getPage should return null if page does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null if page does not exist"},{"ancestorTitles":["PageManager","getPageInfo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager getPageInfo should return page info if exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return page info if exists"},{"ancestorTitles":["PageManager","getPageInfo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager getPageInfo should return undefined if page does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return undefined if page does not exist"},{"ancestorTitles":["PageManager","closePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager closePage should close page successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should close page successfully"},{"ancestorTitles":["PageManager","closePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager closePage should handle already closed page","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle already closed page"},{"ancestorTitles":["PageManager","closePage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager closePage should warn if page does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should warn if page does not exist"},{"ancestorTitles":["PageManager","closePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager closePage should handle page close errors gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle page close errors gracefully"},{"ancestorTitles":["PageManager","closeAll"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager closeAll should close all pages","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should close all pages"},{"ancestorTitles":["PageManager","closeAll"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager closeAll should handle errors when closing pages","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle errors when closing pages"},{"ancestorTitles":["PageManager","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager cleanup should cleanup idle pages","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should cleanup idle pages"},{"ancestorTitles":["PageManager","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager cleanup should cleanup closed pages","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should cleanup closed pages"},{"ancestorTitles":["PageManager","getStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager getStatus should return current status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return current status"},{"ancestorTitles":["PageManager","close"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager close should close page manager","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should close page manager"},{"ancestorTitles":["PageManager","close"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager close should not close twice","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not close twice"},{"ancestorTitles":["PageManager","createPages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPages should create multiple pages","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create multiple pages"},{"ancestorTitles":["PageManager","createPages"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"PageManager createPages should handle partial failures","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle partial failures"},{"ancestorTitles":["PageManager","restartPage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager restartPage should restart existing page","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should restart existing page"},{"ancestorTitles":["PageManager","restartPage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PageManager restartPage should throw if page does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw if page does not exist"},{"ancestorTitles":["PageManager","shouldBlockRequest"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager shouldBlockRequest should block media resources","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should block media resources"},{"ancestorTitles":["PageManager","shouldBlockRequest"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager shouldBlockRequest should block analytics domains","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should block analytics domains"},{"ancestorTitles":["PageManager","shouldBlockRequest"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager shouldBlockRequest should allow normal resources","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should allow normal resources"},{"ancestorTitles":["PageManager","isIgnorableJSError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager isIgnorableJSError should identify Next.js errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should identify Next.js errors"},{"ancestorTitles":["PageManager","isIgnorableJSError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PageManager isIgnorableJSError should identify third-party errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should identify third-party errors"},{"ancestorTitles":["PageManager","isIgnorableJSError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PageManager isIgnorableJSError should not ignore real errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not ignore real errors"}],"endTime":1762501962048,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/pageManager.test.js","startTime":1762501961294,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Application","constructor"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Application constructor should initialize with default values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize with default values"},{"ancestorTitles":["Application","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Application constructor should setup signal handlers","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should setup signal handlers"},{"ancestorTitles":["Application","initialize"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Application initialize should initialize successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should initialize successfully"},{"ancestorTitles":["Application","initialize"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application initialize should handle Python environment not available","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Python environment not available"},{"ancestorTitles":["Application","initialize"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"Application initialize should handle initialization errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle initialization errors"},{"ancestorTitles":["Application","runScraping"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application runScraping should run scraping successfully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should run scraping successfully"},{"ancestorTitles":["Application","runScraping"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Application runScraping should handle scraping errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle scraping errors"},{"ancestorTitles":["Application","runPythonMerge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application runPythonMerge should run Python merge successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should run Python merge successfully"},{"ancestorTitles":["Application","runPythonMerge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application runPythonMerge should handle merge failures","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle merge failures"},{"ancestorTitles":["Application","runPythonMerge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application runPythonMerge should handle merge exceptions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle merge exceptions"},{"ancestorTitles":["Application","run"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application run should run complete workflow successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should run complete workflow successfully"},{"ancestorTitles":["Application","run"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application run should fail if scraping fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail if scraping fails"},{"ancestorTitles":["Application","run"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Application run should continue if merge fails after successful scraping","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should continue if merge fails after successful scraping"},{"ancestorTitles":["Application","getStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application getStatus should return status when not initialized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return status when not initialized"},{"ancestorTitles":["Application","getStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application getStatus should return status when initialized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return status when initialized"},{"ancestorTitles":["Application","getStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application getStatus should return shutting down status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return shutting down status"},{"ancestorTitles":["Application","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application cleanup should cleanup resources","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should cleanup resources"},{"ancestorTitles":["Application","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Application cleanup should not cleanup twice","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not cleanup twice"},{"ancestorTitles":["Application","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application cleanup should handle cleanup errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle cleanup errors"},{"ancestorTitles":["Application","shutdown"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application shutdown should perform graceful shutdown","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should perform graceful shutdown"},{"ancestorTitles":["Application","shutdown"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application shutdown should not shutdown twice","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not shutdown twice"},{"ancestorTitles":["Application","healthCheck"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application healthCheck should return healthy status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return healthy status"},{"ancestorTitles":["Application","healthCheck"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Application healthCheck should handle healthcheck errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle healthcheck errors"},{"ancestorTitles":["Application","signal handlers"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Application signal handlers should handle SIGINT","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle SIGINT"},{"ancestorTitles":["Application","signal handlers"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Application signal handlers should handle uncaught exception","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle uncaught exception"},{"ancestorTitles":["Application","signal handlers"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Application signal handlers should handle unhandled rejection","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle unhandled rejection"},{"ancestorTitles":["main"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"main should run main successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should run main successfully"},{"ancestorTitles":["main"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"main should handle main failure","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle main failure"}],"endTime":1762501962072,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/app.test.js","startTime":1762501961284,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PythonMergeService","constructor"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService constructor should initialize with default config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize with default config"},{"ancestorTitles":["PythonMergeService","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService constructor should merge custom config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should merge custom config"},{"ancestorTitles":["PythonMergeService","validateEnvironment"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService validateEnvironment should validate environment successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate environment successfully"},{"ancestorTitles":["PythonMergeService","validateEnvironment"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService validateEnvironment should handle validation failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle validation failure"},{"ancestorTitles":["PythonMergeService","validateConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService validateConfig should validate config successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate config successfully"},{"ancestorTitles":["PythonMergeService","validateConfig"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService validateConfig should handle config validation failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle config validation failure"},{"ancestorTitles":["PythonMergeService","mergePDFs"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService mergePDFs should merge PDFs successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should merge PDFs successfully"},{"ancestorTitles":["PythonMergeService","mergePDFs"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService mergePDFs should handle merge failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle merge failure"},{"ancestorTitles":["PythonMergeService","mergePDFs"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService mergePDFs should prevent concurrent runs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should prevent concurrent runs"},{"ancestorTitles":["PythonMergeService","mergePDFs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService mergePDFs should emit events","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should emit events"},{"ancestorTitles":["PythonMergeService","mergeBatch"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService mergeBatch should merge multiple directories","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should merge multiple directories"},{"ancestorTitles":["PythonMergeService","mergeBatch"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService mergeBatch should handle partial failures","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle partial failures"},{"ancestorTitles":["PythonMergeService","stopMerge"],"duration":102,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService stopMerge should stop running merge","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should stop running merge"},{"ancestorTitles":["PythonMergeService","stopMerge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService stopMerge should return false when not running","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false when not running"},{"ancestorTitles":["PythonMergeService","getStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService getStatus should return current status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return current status"},{"ancestorTitles":["PythonMergeService","getStatistics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService getStatistics should return detailed statistics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return detailed statistics"},{"ancestorTitles":["PythonMergeService","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonMergeService dispose should dispose resources","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should dispose resources"}],"endTime":1762501962097,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/PythonMergeService.test.js","startTime":1762501961293,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["错误类","ScraperError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误类 ScraperError 应该创建基础错误实例","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该创建基础错误实例"},{"ancestorTitles":["错误类","ScraperError"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"错误类 ScraperError 应该正确序列化为JSON","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该正确序列化为JSON"},{"ancestorTitles":["错误类","ValidationError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误类 ValidationError 应该创建验证错误实例","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该创建验证错误实例"},{"ancestorTitles":["错误类","NetworkError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误类 NetworkError 应该创建网络错误实例","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该创建网络错误实例"},{"ancestorTitles":["错误类","NetworkError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误类 NetworkError 应该处理字符串类型的原始错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理字符串类型的原始错误"},{"ancestorTitles":["错误类","FileOperationError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误类 FileOperationError 应该创建文件操作错误实例","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该创建文件操作错误实例"},{"ancestorTitles":["错误类","BrowserError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误类 BrowserError 应该创建浏览器错误实例","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该创建浏览器错误实例"},{"ancestorTitles":["错误类","ImageLoadError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误类 ImageLoadError 应该创建图片加载错误实例","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该创建图片加载错误实例"},{"ancestorTitles":["错误类","ProcessingError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误类 ProcessingError 应该创建处理错误实例","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该创建处理错误实例"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别可忽略的JS错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该识别可忽略的JS错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别可重试的网络错误","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"应该识别可重试的网络错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别可重试的超时错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该识别可重试的超时错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别可重试的浏览器错误","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该识别可重试的浏览器错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别永久性HTTP错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该识别永久性HTTP错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别永久性验证错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该识别永久性验证错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该识别系统级错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该识别系统级错误"},{"ancestorTitles":["错误分类工具","categorizeError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 categorizeError 应该将未知错误分类为UNKNOWN","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该将未知错误分类为UNKNOWN"},{"ancestorTitles":["错误分类工具","isRetryableError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 isRetryableError 应该正确识别可重试的错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该正确识别可重试的错误"},{"ancestorTitles":["错误分类工具","isRetryableError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 isRetryableError 应该正确识别不可重试的错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该正确识别不可重试的错误"},{"ancestorTitles":["错误分类工具","isIgnorableError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 isIgnorableError 应该正确识别可忽略的错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确识别可忽略的错误"},{"ancestorTitles":["错误分类工具","isIgnorableError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 isIgnorableError 应该正确识别不可忽略的错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确识别不可忽略的错误"},{"ancestorTitles":["错误分类工具","getRetryStrategy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 getRetryStrategy 应该为网络错误返回合适的重试策略","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为网络错误返回合适的重试策略"},{"ancestorTitles":["错误分类工具","getRetryStrategy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 getRetryStrategy 应该为超时错误返回合适的重试策略","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为超时错误返回合适的重试策略"},{"ancestorTitles":["错误分类工具","getRetryStrategy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 getRetryStrategy 应该为浏览器错误返回合适的重试策略","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为浏览器错误返回合适的重试策略"},{"ancestorTitles":["错误分类工具","getRetryStrategy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 getRetryStrategy 应该为不可重试的错误返回无重试策略","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为不可重试的错误返回无重试策略"},{"ancestorTitles":["错误分类工具","formatError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 formatError 应该格式化ScraperError实例","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该格式化ScraperError实例"},{"ancestorTitles":["错误分类工具","formatError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 formatError 应该格式化普通Error实例","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该格式化普通Error实例"},{"ancestorTitles":["错误分类工具","formatError"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"错误分类工具 formatError 应该处理非Error对象","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该处理非Error对象"}],"endTime":1762501962113,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/utils/errors.test.js","startTime":1762501962051,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PythonRunner","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner constructor should initialize with default config","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize with default config"},{"ancestorTitles":["PythonRunner","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner constructor should merge custom config","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should merge custom config"},{"ancestorTitles":["PythonRunner","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner constructor should set Python environment variables","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set Python environment variables"},{"ancestorTitles":["PythonRunner","runScript"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should execute script successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should execute script successfully"},{"ancestorTitles":["PythonRunner","runScript"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should handle script execution failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle script execution failure"},{"ancestorTitles":["PythonRunner","runScript"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should handle process spawn error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle process spawn error"},{"ancestorTitles":["PythonRunner","runScript"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should validate script before execution","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate script before execution"},{"ancestorTitles":["PythonRunner","runScript"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should skip validation for command line execution","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip validation for command line execution"},{"ancestorTitles":["PythonRunner","runScript"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should handle input option","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle input option"},{"ancestorTitles":["PythonRunner","runScript"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner runScript should log output when logOutput is true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should log output when logOutput is true"},{"ancestorTitles":["PythonRunner","validateScript"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner validateScript should validate Python file successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate Python file successfully"},{"ancestorTitles":["PythonRunner","validateScript"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner validateScript should reject non-Python files","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject non-Python files"},{"ancestorTitles":["PythonRunner","validateScript"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner validateScript should reject non-existent files","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject non-existent files"},{"ancestorTitles":["PythonRunner","validateScript"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner validateScript should reject directories","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject directories"},{"ancestorTitles":["PythonRunner","killProcess"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner killProcess should kill process with SIGTERM","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should kill process with SIGTERM"},{"ancestorTitles":["PythonRunner","killProcess"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner killProcess should force kill with SIGKILL after timeout","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should force kill with SIGKILL after timeout"},{"ancestorTitles":["PythonRunner","killProcess"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner killProcess should not kill already killed process","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not kill already killed process"},{"ancestorTitles":["PythonRunner","killProcess"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner killProcess should handle kill errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle kill errors"},{"ancestorTitles":["PythonRunner","getRunningProcesses"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner getRunningProcesses should return empty array when no processes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty array when no processes"},{"ancestorTitles":["PythonRunner","getRunningProcesses"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner getRunningProcesses should return running process info","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return running process info"},{"ancestorTitles":["PythonRunner","killAllProcesses"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner killAllProcesses should kill all running processes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should kill all running processes"},{"ancestorTitles":["PythonRunner","checkPythonEnvironment"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner checkPythonEnvironment should check Python environment successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check Python environment successfully"},{"ancestorTitles":["PythonRunner","checkPythonEnvironment"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner checkPythonEnvironment should handle environment check failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle environment check failure"},{"ancestorTitles":["PythonRunner","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner dispose should dispose resources","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should dispose resources"},{"ancestorTitles":["PythonRunner","process management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PythonRunner process management should track and clean up processes correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track and clean up processes correctly"}],"endTime":1762501962133,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/core/pythonRunner.test.js","startTime":1762501962041,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证有效的最小配置","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该验证有效的最小配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该为缺少的必需字段返回错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为缺少的必需字段返回错误"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证URL格式","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证URL格式"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该应用默认值","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该应用默认值"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证数字范围","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证数字范围"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证浏览器配置","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证浏览器配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证PDF配置","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该验证PDF配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该拒绝无效的PDF引擎","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该拒绝无效的PDF引擎"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该只接受puppeteer作为PDF引擎","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该只接受puppeteer作为PDF引擎"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证Python配置","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证Python配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该处理baseUrl配置","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理baseUrl配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证状态管理配置","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证状态管理配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该验证网络配置","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证网络配置"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该剥离未知字段","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该剥离未知字段"},{"ancestorTitles":["ConfigValidator","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfig 应该允许未知字段当选项指定时","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该允许未知字段当选项指定时"},{"ancestorTitles":["ConfigValidator","validateConfigAsync"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfigAsync 应该异步验证配置","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该异步验证配置"},{"ancestorTitles":["ConfigValidator","validateConfigAsync"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateConfigAsync 应该异步处理验证错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该异步处理验证错误"},{"ancestorTitles":["ConfigValidator","validatePartialConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validatePartialConfig 应该验证部分配置","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该验证部分配置"},{"ancestorTitles":["ConfigValidator","validatePartialConfig"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validatePartialConfig 应该验证指定的必需字段","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证指定的必需字段"},{"ancestorTitles":["ConfigValidator","validatePartialConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validatePartialConfig 应该允许未知字段在部分验证中","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该允许未知字段在部分验证中"},{"ancestorTitles":["ConfigValidator","validatePartialConfig"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validatePartialConfig 应该处理无效的部分配置","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该处理无效的部分配置"},{"ancestorTitles":["ConfigValidator","getConfigSchema"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator getConfigSchema 应该返回配置模式描述","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该返回配置模式描述"},{"ancestorTitles":["ConfigValidator","getDefaultConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator getDefaultConfig 应该返回默认配置","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"应该返回默认配置"},{"ancestorTitles":["ConfigValidator","getDefaultConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator getDefaultConfig 默认配置应该包含所有嵌套对象","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"默认配置应该包含所有嵌套对象"},{"ancestorTitles":["ConfigValidator","ValidationError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator ValidationError 应该创建自定义验证错误","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该创建自定义验证错误"},{"ancestorTitles":["ConfigValidator","ValidationError"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator ValidationError 应该捕获堆栈跟踪","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该捕获堆栈跟踪"},{"ancestorTitles":["ConfigValidator","复杂配置场景"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator 复杂配置场景 应该验证完整的生产配置","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该验证完整的生产配置"},{"ancestorTitles":["ConfigValidator","复杂配置场景"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator 复杂配置场景 应该收集多个验证错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该收集多个验证错误"}],"endTime":1762501962141,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/config/configValidator.test.js","startTime":1762501961288,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PathService","determineDirectory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService determineDirectory 应该为app路径确定正确的目录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为app路径确定正确的目录"},{"ancestorTitles":["PathService","determineDirectory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService determineDirectory 应该为pages路径确定正确的目录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为pages路径确定正确的目录"},{"ancestorTitles":["PathService","determineDirectory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService determineDirectory 应该为不匹配的URL使用主机名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为不匹配的URL使用主机名"},{"ancestorTitles":["PathService","determineDirectory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService determineDirectory 应该处理无效URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理无效URL"},{"ancestorTitles":["PathService","getPdfPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getPdfPath 应该使用数字索引生成PDF路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用数字索引生成PDF路径"},{"ancestorTitles":["PathService","getPdfPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getPdfPath 应该使用哈希生成PDF路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用哈希生成PDF路径"},{"ancestorTitles":["PathService","getPdfPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getPdfPath 应该处理没有文件名的URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理没有文件名的URL"},{"ancestorTitles":["PathService","getPdfPath"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService getPdfPath 应该清理文件名中的特殊字符","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该清理文件名中的特殊字符"},{"ancestorTitles":["PathService","getPdfPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getPdfPath 应该在没有useHash和index时使用简单文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在没有useHash和index时使用简单文件名"},{"ancestorTitles":["PathService","getMetadataPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getMetadataPath 应该返回articleTitles元数据路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回articleTitles元数据路径"},{"ancestorTitles":["PathService","getMetadataPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getMetadataPath 应该返回failed元数据路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回failed元数据路径"},{"ancestorTitles":["PathService","getMetadataPath"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService getMetadataPath 应该返回imageLoadFailures元数据路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回imageLoadFailures元数据路径"},{"ancestorTitles":["PathService","getMetadataPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getMetadataPath 应该返回progress元数据路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回progress元数据路径"},{"ancestorTitles":["PathService","getMetadataPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getMetadataPath 应该返回urlMapping元数据路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回urlMapping元数据路径"},{"ancestorTitles":["PathService","getMetadataPath"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"PathService getMetadataPath 应该为未知类型抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为未知类型抛出错误"},{"ancestorTitles":["PathService","getFinalPdfPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getFinalPdfPath 应该生成带日期的最终PDF路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该生成带日期的最终PDF路径"},{"ancestorTitles":["PathService","getLogPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getLogPath 应该返回combined日志路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回combined日志路径"},{"ancestorTitles":["PathService","getLogPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getLogPath 应该返回error日志路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回error日志路径"},{"ancestorTitles":["PathService","getLogPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getLogPath 应该返回progress日志路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回progress日志路径"},{"ancestorTitles":["PathService","getLogPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getLogPath 应该处理自定义日志类型","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理自定义日志类型"},{"ancestorTitles":["PathService","getLogPath"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService getLogPath 应该使用默认combined类型","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用默认combined类型"},{"ancestorTitles":["PathService","parsePdfFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService parsePdfFileName 应该解析数字索引文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该解析数字索引文件名"},{"ancestorTitles":["PathService","parsePdfFileName"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService parsePdfFileName 应该解析哈希前缀文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该解析哈希前缀文件名"},{"ancestorTitles":["PathService","parsePdfFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService parsePdfFileName 应该解析没有前缀的文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该解析没有前缀的文件名"},{"ancestorTitles":["PathService","parsePdfFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService parsePdfFileName 应该处理多个连字符的文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理多个连字符的文件名"},{"ancestorTitles":["PathService","getTempPath"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getTempPath 应该返回临时文件路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回临时文件路径"},{"ancestorTitles":["PathService","getTempDirectory"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService getTempDirectory 应该返回配置的临时目录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回配置的临时目录"},{"ancestorTitles":["PathService","getTempDirectory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService getTempDirectory 应该返回默认临时目录当配置不存在时","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回默认临时目录当配置不存在时"},{"ancestorTitles":["PathService","generateIndexedFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService generateIndexedFileName 应该生成索引文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该生成索引文件名"},{"ancestorTitles":["PathService","generateHashedFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService generateHashedFileName 应该生成哈希文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该生成哈希文件名"},{"ancestorTitles":["PathService","validateFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService validateFileName 应该验证索引文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证索引文件名"},{"ancestorTitles":["PathService","validateFileName"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService validateFileName 应该验证哈希文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证哈希文件名"},{"ancestorTitles":["PathService","validateFileName"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PathService validateFileName 应该验证简单文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证简单文件名"},{"ancestorTitles":["PathService","validateFileName"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PathService validateFileName 应该标记无效格式的文件名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该标记无效格式的文件名"}],"endTime":1762501962144,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/pathService.test.js","startTime":1762501962077,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["QueueManager","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager constructor 应该使用默认选项初始化","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该使用默认选项初始化"},{"ancestorTitles":["QueueManager","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager constructor 应该使用提供的选项初始化","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该使用提供的选项初始化"},{"ancestorTitles":["QueueManager","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager constructor 应该是EventEmitter的实例","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该是EventEmitter的实例"},{"ancestorTitles":["QueueManager","事件处理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager 事件处理 应该转发active事件","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该转发active事件"},{"ancestorTitles":["QueueManager","事件处理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager 事件处理 应该转发idle事件","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该转发idle事件"},{"ancestorTitles":["QueueManager","事件处理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager 事件处理 应该转发task-added事件","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该转发task-added事件"},{"ancestorTitles":["QueueManager","事件处理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager 事件处理 应该转发task-completed事件","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该转发task-completed事件"},{"ancestorTitles":["QueueManager","addTask"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addTask 应该添加任务并执行","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该添加任务并执行"},{"ancestorTitles":["QueueManager","addTask"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addTask 应该处理任务优先级","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该处理任务优先级"},{"ancestorTitles":["QueueManager","addTask"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addTask 应该在任务成功时发出task-success事件","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该在任务成功时发出task-success事件"},{"ancestorTitles":["QueueManager","addTask"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addTask 应该在任务失败时发出task-failure事件","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该在任务失败时发出task-failure事件"},{"ancestorTitles":["QueueManager","addTask"],"duration":51,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addTask 应该记录任务执行时间","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该记录任务执行时间"},{"ancestorTitles":["QueueManager","addBatch"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addBatch 应该批量添加任务","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"应该批量添加任务"},{"ancestorTitles":["QueueManager","addBatch"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager addBatch 应该处理带选项的批量任务","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该处理带选项的批量任务"},{"ancestorTitles":["QueueManager","waitForIdle"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager waitForIdle 应该等待所有任务完成","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该等待所有任务完成"},{"ancestorTitles":["QueueManager","clear"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager clear 应该清空队列和任务","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该清空队列和任务"},{"ancestorTitles":["QueueManager","pause/resume"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager pause/resume pause应该暂停队列","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"pause应该暂停队列"},{"ancestorTitles":["QueueManager","pause/resume"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager pause/resume resume应该恢复队列","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"resume应该恢复队列"},{"ancestorTitles":["QueueManager","getStatus"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager getStatus 应该返回队列状态","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回队列状态"},{"ancestorTitles":["QueueManager","getTaskDetails"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager getTaskDetails 应该返回任务详情","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回任务详情"},{"ancestorTitles":["QueueManager","getTaskDetails"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager getTaskDetails 应该为不存在的任务返回undefined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该为不存在的任务返回undefined"},{"ancestorTitles":["QueueManager","setConcurrency"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager setConcurrency 应该更新并发数","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该更新并发数"},{"ancestorTitles":["QueueManager","任务生命周期"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"QueueManager 任务生命周期 任务应该经历完整的生命周期","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"任务应该经历完整的生命周期"}],"endTime":1762501962144,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/queueManager.test.js","startTime":1762501962021,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MetadataService","saveArticleTitle"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService saveArticleTitle 应该保存文章标题","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该保存文章标题"},{"ancestorTitles":["MetadataService","saveArticleTitle"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService saveArticleTitle 应该覆盖已存在的标题","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该覆盖已存在的标题"},{"ancestorTitles":["MetadataService","saveArticleTitle"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService saveArticleTitle 应该在空对象上保存标题","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在空对象上保存标题"},{"ancestorTitles":["MetadataService","getArticleTitles"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService getArticleTitles 应该获取所有文章标题","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该获取所有文章标题"},{"ancestorTitles":["MetadataService","getArticleTitles"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService getArticleTitles 应该在文件不存在时返回空对象","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在文件不存在时返回空对象"},{"ancestorTitles":["MetadataService","logFailedLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService logFailedLink 应该记录失败的链接","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该记录失败的链接"},{"ancestorTitles":["MetadataService","logFailedLink"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService logFailedLink 应该处理字符串错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理字符串错误"},{"ancestorTitles":["MetadataService","logFailedLink"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService logFailedLink 应该处理没有message的错误对象","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理没有message的错误对象"},{"ancestorTitles":["MetadataService","getFailedLinks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService getFailedLinks 应该获取所有失败的链接","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该获取所有失败的链接"},{"ancestorTitles":["MetadataService","getFailedLinks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService getFailedLinks 应该在文件不存在时返回空数组","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在文件不存在时返回空数组"},{"ancestorTitles":["MetadataService","removeFromFailedLinks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService removeFromFailedLinks 应该从失败列表中移除指定URL","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该从失败列表中移除指定URL"},{"ancestorTitles":["MetadataService","logImageLoadFailure"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService logImageLoadFailure 应该记录新的图片加载失败","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该记录新的图片加载失败"},{"ancestorTitles":["MetadataService","logImageLoadFailure"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService logImageLoadFailure 应该避免重复记录","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该避免重复记录"},{"ancestorTitles":["MetadataService","logImageLoadFailure"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService logImageLoadFailure 应该允许相同URL但不同index的记录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该允许相同URL但不同index的记录"},{"ancestorTitles":["MetadataService","getImageLoadFailures"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService getImageLoadFailures 应该获取图片加载失败列表","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该获取图片加载失败列表"},{"ancestorTitles":["MetadataService","saveUrlMapping"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService saveUrlMapping 应该保存URL到文件路径的映射","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该保存URL到文件路径的映射"},{"ancestorTitles":["MetadataService","saveUrlMapping"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService saveUrlMapping 应该覆盖已存在的映射","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该覆盖已存在的映射"},{"ancestorTitles":["MetadataService","getUrlMapping"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MetadataService getUrlMapping 应该获取URL映射","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该获取URL映射"}],"endTime":1762501962162,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/metadataService.test.js","startTime":1762501962118,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Logger","createLogger"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该创建带有默认配置的logger","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该创建带有默认配置的logger"},{"ancestorTitles":["Logger","createLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该使用自定义日志级别","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用自定义日志级别"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该使用logLevel配置选项","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该使用logLevel配置选项"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该在测试环境中不包含文件传输","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在测试环境中不包含文件传输"},{"ancestorTitles":["Logger","createLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该在非测试环境中包含文件传输","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该在非测试环境中包含文件传输"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该可以禁用文件传输","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该可以禁用文件传输"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该默认包含控制台传输","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该默认包含控制台传输"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该使用简单格式当指定时","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该使用简单格式当指定时"},{"ancestorTitles":["Logger","createLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该使用默认格式当未指定simple时","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该使用默认格式当未指定simple时"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该创建日志目录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该创建日志目录"},{"ancestorTitles":["Logger","createLogger"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger 应该处理日志目录创建失败","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理日志目录创建失败"},{"ancestorTitles":["Logger","createLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLogger logProgress方法应该添加进度类型","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"logProgress方法应该添加进度类型"},{"ancestorTitles":["Logger","createLoggerAsync"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLoggerAsync 应该等待目录创建并返回logger","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该等待目录创建并返回logger"},{"ancestorTitles":["Logger","createLoggerAsync"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLoggerAsync 应该强制包含文件传输","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该强制包含文件传输"},{"ancestorTitles":["Logger","createLoggerAsync"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLoggerAsync 应该处理目录创建错误但仍返回logger","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该处理目录创建错误但仍返回logger"},{"ancestorTitles":["Logger","createLoggerAsync"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger createLoggerAsync 应该传递配置选项","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该传递配置选项"},{"ancestorTitles":["Logger","consoleLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger consoleLogger 应该提供基本的日志方法","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该提供基本的日志方法"},{"ancestorTitles":["Logger","consoleLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger consoleLogger debug和info应该使用console.log","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debug和info应该使用console.log"},{"ancestorTitles":["Logger","consoleLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger consoleLogger warn应该使用console.warn","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"warn应该使用console.warn"},{"ancestorTitles":["Logger","consoleLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Logger consoleLogger error应该使用console.error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"error应该使用console.error"},{"ancestorTitles":["Logger","consoleLogger"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Logger consoleLogger logProgress应该格式化进度消息","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"logProgress应该格式化进度消息"}],"endTime":1762501962164,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/utils/logger.test.js","startTime":1762501962101,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Container","register"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Container register 应该成功注册一个简单的服务","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该成功注册一个简单的服务"},{"ancestorTitles":["Container","register"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container register 应该使用提供的选项注册服务","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该使用提供的选项注册服务"},{"ancestorTitles":["Container","get"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container get 应该获取简单的单例服务","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该获取简单的单例服务"},{"ancestorTitles":["Container","get"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container get 应该获取非单例服务","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该获取非单例服务"},{"ancestorTitles":["Container","get"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container get 应该使用类构造函数创建实例","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该使用类构造函数创建实例"},{"ancestorTitles":["Container","get"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Container get 应该抛出错误当服务不存在时","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该抛出错误当服务不存在时"},{"ancestorTitles":["Container","get"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Container get 应该处理返回Promise的工厂函数","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理返回Promise的工厂函数"},{"ancestorTitles":["Container","get"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container get 应该处理直接的对象注册","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理直接的对象注册"},{"ancestorTitles":["Container","resolveDependencies"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container resolveDependencies 应该解析简单的依赖关系","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该解析简单的依赖关系"},{"ancestorTitles":["Container","resolveDependencies"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container resolveDependencies 应该解析嵌套的依赖关系","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该解析嵌套的依赖关系"},{"ancestorTitles":["Container","checkCircularDependency"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container checkCircularDependency 应该检测简单的循环依赖","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该检测简单的循环依赖"},{"ancestorTitles":["Container","checkCircularDependency"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container checkCircularDependency 应该检测复杂的循环依赖","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该检测复杂的循环依赖"},{"ancestorTitles":["Container","checkCircularDependency"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Container checkCircularDependency 应该通过非循环依赖的验证","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该通过非循环依赖的验证"},{"ancestorTitles":["Container","validateDependencies"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container validateDependencies 应该验证所有服务的依赖关系","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证所有服务的依赖关系"},{"ancestorTitles":["Container","validateDependencies"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container validateDependencies 应该在存在循环依赖时抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在存在循环依赖时抛出错误"},{"ancestorTitles":["Container","getStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Container getStats 应该返回正确的统计信息","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该返回正确的统计信息"},{"ancestorTitles":["Container","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container dispose 应该调用服务的dispose方法","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该调用服务的dispose方法"},{"ancestorTitles":["Container","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container dispose 应该调用服务的close方法","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该调用服务的close方法"},{"ancestorTitles":["Container","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container dispose 应该调用服务的cleanup方法","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该调用服务的cleanup方法"},{"ancestorTitles":["Container","dispose"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container dispose 应该按相反顺序清理服务","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该按相反顺序清理服务"},{"ancestorTitles":["Container","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container dispose 应该处理dispose时的错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理dispose时的错误"},{"ancestorTitles":["Container","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container dispose 应该清空容器","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该清空容器"},{"ancestorTitles":["Container","listServices"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Container listServices 应该列出所有注册的服务","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该列出所有注册的服务"},{"ancestorTitles":["Container","has"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Container has 应该检查服务是否存在","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该检查服务是否存在"},{"ancestorTitles":["Container","getHealth"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Container getHealth 应该返回容器健康状态","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"应该返回容器健康状态"}],"endTime":1762501962164,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/core/container.test.js","startTime":1762501962010,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["URL工具函数","normalizeUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 normalizeUrl 应该移除尾部斜杠","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该移除尾部斜杠"},{"ancestorTitles":["URL工具函数","normalizeUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 normalizeUrl 应该排序查询参数","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该排序查询参数"},{"ancestorTitles":["URL工具函数","normalizeUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 normalizeUrl 应该移除hash","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该移除hash"},{"ancestorTitles":["URL工具函数","normalizeUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 normalizeUrl 处理无效URL时返回原值","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"处理无效URL时返回原值"},{"ancestorTitles":["URL工具函数","getUrlHash"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 getUrlHash 应该生成8位hash","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该生成8位hash"},{"ancestorTitles":["URL工具函数","getUrlHash"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 getUrlHash 相同URL应该生成相同hash","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"相同URL应该生成相同hash"},{"ancestorTitles":["URL工具函数","validateUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 validateUrl 允许域名内的URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"允许域名内的URL"},{"ancestorTitles":["URL工具函数","validateUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 validateUrl 拒绝不在允许列表中的域名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"拒绝不在允许列表中的域名"},{"ancestorTitles":["URL工具函数","validateUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 validateUrl 处理无效URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"处理无效URL"},{"ancestorTitles":["URL工具函数","extractSubfolder"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 extractSubfolder 应该提取app路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该提取app路径"},{"ancestorTitles":["URL工具函数","extractSubfolder"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 extractSubfolder 应该提取pages路径","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该提取pages路径"},{"ancestorTitles":["URL工具函数","extractSubfolder"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"URL工具函数 extractSubfolder 对不匹配的URL返回null","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"对不匹配的URL返回null"}],"endTime":1762501962167,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/utils/url.test.js","startTime":1762501962136,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["FileService","ensureDirectory"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"FileService ensureDirectory 应该创建不存在的目录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该创建不存在的目录"},{"ancestorTitles":["FileService","ensureDirectory"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"FileService ensureDirectory 对已存在的目录不应该报错","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"对已存在的目录不应该报错"},{"ancestorTitles":["FileService","readJson/writeJson"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"FileService readJson/writeJson 应该正确读写JSON文件","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确读写JSON文件"},{"ancestorTitles":["FileService","readJson/writeJson"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FileService readJson/writeJson 读取不存在的文件时应返回默认值","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"读取不存在的文件时应返回默认值"},{"ancestorTitles":["FileService","appendToJsonArray"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"FileService appendToJsonArray 应该正确追加到JSON数组","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确追加到JSON数组"},{"ancestorTitles":["FileService","removeFromJsonArray"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"FileService removeFromJsonArray 应该从JSON数组中移除匹配的项","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该从JSON数组中移除匹配的项"}],"endTime":1762501962167,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/fileService.test.js","startTime":1762501962010,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1762501978071,"message":"  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    /home/yvany/developer/nextjs-pdf/tests/services/browserPool.test.js:24\n    const puppeteer = (await Promise.resolve().then(() => _interopRequireWildcard(require('puppeteer-extra')))).default;\n                             ^^^^^^^\n\n    SyntaxError: Unexpected identifier 'Promise'\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1505:14)\n","name":"/home/yvany/developer/nextjs-pdf/tests/services/browserPool.test.js","startTime":1762501978071,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Common Utilities","delay"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities delay 应该延迟指定的毫秒数","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该延迟指定的毫秒数"},{"ancestorTitles":["Common Utilities","retry"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retry 应该在第一次成功时返回结果","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在第一次成功时返回结果"},{"ancestorTitles":["Common Utilities","retry"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retry 应该重试失败的函数","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该重试失败的函数"},{"ancestorTitles":["Common Utilities","retry"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retry 应该在所有尝试失败后抛出最后的错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在所有尝试失败后抛出最后的错误"},{"ancestorTitles":["Common Utilities","retry"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retry 应该使用指数退避","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该使用指数退避"},{"ancestorTitles":["Common Utilities","retry"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retry 应该调用onRetry回调","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该调用onRetry回调"},{"ancestorTitles":["Common Utilities","isIgnored"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities isIgnored 应该识别被忽略的URL","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该识别被忽略的URL"},{"ancestorTitles":["Common Utilities","isIgnored"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities isIgnored 应该不忽略未匹配的URL","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该不忽略未匹配的URL"},{"ancestorTitles":["Common Utilities","isIgnored"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities isIgnored 应该处理空的忽略列表","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理空的忽略列表"},{"ancestorTitles":["Common Utilities","retryWithProgress"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retryWithProgress 应该调用进度回调","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该调用进度回调"},{"ancestorTitles":["Common Utilities","retryWithProgress"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities retryWithProgress 应该调用重试回调并包含等待时间","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该调用重试回调并包含等待时间"},{"ancestorTitles":["Common Utilities","batchDelay"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities batchDelay 应该批量执行任务并延迟","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该批量执行任务并延迟"},{"ancestorTitles":["Common Utilities","batchDelay"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities batchDelay 应该处理失败的任务","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理失败的任务"},{"ancestorTitles":["Common Utilities","exponentialBackoff"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities exponentialBackoff 应该计算正确的指数退避延迟","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该计算正确的指数退避延迟"},{"ancestorTitles":["Common Utilities","jitteredDelay"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities jitteredDelay 应该添加随机抖动到延迟","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该添加随机抖动到延迟"},{"ancestorTitles":["Common Utilities","jitteredDelay"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Common Utilities jitteredDelay 应该确保延迟不为负数","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该确保延迟不为负数"}],"endTime":1762501962189,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/utils/common.test.js","startTime":1762501962019,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ImageService","constructor"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"ImageService constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["ImageService","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["ImageService","constructor"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"ImageService constructor should initialize stats","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should initialize stats"},{"ancestorTitles":["ImageService","setupImageObserver"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ImageService setupImageObserver should setup image observer on page","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should setup image observer on page"},{"ancestorTitles":["ImageService","setupImageObserver"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService setupImageObserver should emit observer-setup event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit observer-setup event"},{"ancestorTitles":["ImageService","setupImageObserver"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"ImageService setupImageObserver should handle setup errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle setup errors"},{"ancestorTitles":["ImageService","waitForImages"],"duration":202,"failureDetails":[],"failureMessages":[],"fullName":"ImageService waitForImages should wait for images to load successfully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should wait for images to load successfully"},{"ancestorTitles":["ImageService","waitForImages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService waitForImages should handle images with failures","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle images with failures"},{"ancestorTitles":["ImageService","waitForImages"],"duration":202,"failureDetails":[],"failureMessages":[],"fullName":"ImageService waitForImages should timeout if images dont load","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should timeout if images dont load"},{"ancestorTitles":["ImageService","waitForImages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService waitForImages should emit progress events","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit progress events"},{"ancestorTitles":["ImageService","waitForImages"],"duration":152,"failureDetails":[],"failureMessages":[],"fullName":"ImageService waitForImages should stop waiting when image count stabilizes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should stop waiting when image count stabilizes"},{"ancestorTitles":["ImageService","waitForImages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService waitForImages should handle evaluation errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle evaluation errors"},{"ancestorTitles":["ImageService","scrollPage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ImageService scrollPage should scroll page successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should scroll page successfully"},{"ancestorTitles":["ImageService","scrollPage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService scrollPage should emit scroll-complete event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit scroll-complete event"},{"ancestorTitles":["ImageService","scrollPage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService scrollPage should handle scroll errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle scroll errors"},{"ancestorTitles":["ImageService","triggerLazyLoading"],"duration":1003,"failureDetails":[],"failureMessages":[],"fullName":"ImageService triggerLazyLoading should trigger lazy loading successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should trigger lazy loading successfully"},{"ancestorTitles":["ImageService","triggerLazyLoading"],"duration":1002,"failureDetails":[],"failureMessages":[],"fullName":"ImageService triggerLazyLoading should emit lazy-loading-triggered event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit lazy-loading-triggered event"},{"ancestorTitles":["ImageService","triggerLazyLoading"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ImageService triggerLazyLoading should handle trigger errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle trigger errors"},{"ancestorTitles":["ImageService","processPageImages"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ImageService processPageImages should process page images successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should process page images successfully"},{"ancestorTitles":["ImageService","processPageImages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService processPageImages should retry if images dont load","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retry if images dont load"},{"ancestorTitles":["ImageService","processPageImages"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService processPageImages should handle processing errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle processing errors"},{"ancestorTitles":["ImageService","processPageImages"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService processPageImages should emit page-images-complete event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit page-images-complete event"},{"ancestorTitles":["ImageService","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanup should perform global cleanup when no page provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should perform global cleanup when no page provided"},{"ancestorTitles":["ImageService","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanup should skip cleanup if page is closed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should skip cleanup if page is closed"},{"ancestorTitles":["ImageService","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanup should cleanup page if valid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should cleanup page if valid"},{"ancestorTitles":["ImageService","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanup should handle cleanup errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle cleanup errors"},{"ancestorTitles":["ImageService","cleanupPage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanupPage should cleanup page resources","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should cleanup page resources"},{"ancestorTitles":["ImageService","cleanupPage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanupPage should handle closed pages","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle closed pages"},{"ancestorTitles":["ImageService","cleanupPage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService cleanupPage should handle cleanup errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle cleanup errors gracefully"},{"ancestorTitles":["ImageService","dispose"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService dispose should dispose service resources","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should dispose service resources"},{"ancestorTitles":["ImageService","dispose"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService dispose should emit dispose-complete event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit dispose-complete event"},{"ancestorTitles":["ImageService","dispose"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService dispose should handle dispose errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle dispose errors"},{"ancestorTitles":["ImageService","getStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService getStats should return current stats with average load time","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return current stats with average load time"},{"ancestorTitles":["ImageService","getStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService getStats should handle zero images processed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle zero images processed"},{"ancestorTitles":["ImageService","resetStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ImageService resetStats should reset all statistics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reset all statistics"},{"ancestorTitles":["ImageService","resetStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ImageService resetStats should emit stats-reset event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit stats-reset event"}],"endTime":1762501964605,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/services/imageService.test.js","startTime":1762501961287,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Scraper","constructor"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Scraper constructor should initialize with dependencies","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should initialize with dependencies"},{"ancestorTitles":["Scraper","constructor"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Scraper constructor should bind event handlers","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should bind event handlers"},{"ancestorTitles":["Scraper","initialize"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Scraper initialize should initialize successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should initialize successfully"},{"ancestorTitles":["Scraper","initialize"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Scraper initialize should not reinitialize if already initialized","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not reinitialize if already initialized"},{"ancestorTitles":["Scraper","initialize"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"Scraper initialize should handle initialization errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle initialization errors"},{"ancestorTitles":["Scraper","collectUrls"],"duration":2007,"failureDetails":[],"failureMessages":[],"fullName":"Scraper collectUrls should collect URLs successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should collect URLs successfully"},{"ancestorTitles":["Scraper","collectUrls"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Scraper collectUrls should throw if not initialized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw if not initialized"},{"ancestorTitles":["Scraper","collectUrls"],"duration":6007,"failureDetails":[],"failureMessages":[],"fullName":"Scraper collectUrls should handle navigation errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle navigation errors"},{"ancestorTitles":["Scraper","collectUrls"],"duration":2003,"failureDetails":[],"failureMessages":[],"fullName":"Scraper collectUrls should clean up resources on error","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should clean up resources on error"},{"ancestorTitles":["Scraper","validateUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper validateUrl should accept valid URLs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should accept valid URLs"},{"ancestorTitles":["Scraper","validateUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper validateUrl should reject invalid URLs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid URLs"},{"ancestorTitles":["Scraper","validateUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper validateUrl should check allowed domains","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should check allowed domains"},{"ancestorTitles":["Scraper","validateUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper validateUrl should filter by baseUrl if configured","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by baseUrl if configured"},{"ancestorTitles":["Scraper","isIgnored"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper isIgnored should check ignored patterns","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check ignored patterns"},{"ancestorTitles":["Scraper","isIgnored"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper isIgnored should handle missing ignoreURLs config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing ignoreURLs config"},{"ancestorTitles":["Scraper","scrapePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper scrapePage should scrape page successfully with Puppeteer","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should scrape page successfully with Puppeteer"},{"ancestorTitles":["Scraper","scrapePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper scrapePage should skip already processed pages","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should skip already processed pages"},{"ancestorTitles":["Scraper","scrapePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper scrapePage should handle page navigation errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle page navigation errors"},{"ancestorTitles":["Scraper","scrapePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper scrapePage should handle content not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle content not found"},{"ancestorTitles":["Scraper","scrapePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper scrapePage should clean up resources on error","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should clean up resources on error"},{"ancestorTitles":["Scraper","scrapePage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper scrapePage should save state periodically","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should save state periodically"},{"ancestorTitles":["Scraper","navigateWithFallback"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper navigateWithFallback should try multiple navigation strategies","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should try multiple navigation strategies"},{"ancestorTitles":["Scraper","navigateWithFallback"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper navigateWithFallback should handle all strategies failing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle all strategies failing"},{"ancestorTitles":["Scraper","retryFailedUrls"],"duration":4006,"failureDetails":[],"failureMessages":[],"fullName":"Scraper retryFailedUrls should retry failed URLs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should retry failed URLs"},{"ancestorTitles":["Scraper","retryFailedUrls"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper retryFailedUrls should handle no failed URLs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle no failed URLs"},{"ancestorTitles":["Scraper","run"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper run should run scraper successfully","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should run scraper successfully"},{"ancestorTitles":["Scraper","run"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper run should throw if already running","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw if already running"},{"ancestorTitles":["Scraper","run"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper run should handle no URLs found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle no URLs found"},{"ancestorTitles":["Scraper","run"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Scraper run should cleanup on error","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should cleanup on error"},{"ancestorTitles":["Scraper","pause/resume/stop"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper pause/resume/stop should pause scraper","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should pause scraper"},{"ancestorTitles":["Scraper","pause/resume/stop"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper pause/resume/stop should resume scraper","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resume scraper"},{"ancestorTitles":["Scraper","pause/resume/stop"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper pause/resume/stop should stop scraper","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should stop scraper"},{"ancestorTitles":["Scraper","pause/resume/stop"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper pause/resume/stop should warn if not running","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should warn if not running"},{"ancestorTitles":["Scraper","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper cleanup should cleanup all resources","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should cleanup all resources"},{"ancestorTitles":["Scraper","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Scraper cleanup should handle cleanup errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle cleanup errors gracefully"},{"ancestorTitles":["Scraper","getStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper getStatus should return current status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return current status"},{"ancestorTitles":["Scraper","event emissions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Scraper event emissions should emit initialized event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit initialized event"},{"ancestorTitles":["Scraper","event emissions"],"duration":2002,"failureDetails":[],"failureMessages":[],"fullName":"Scraper event emissions should emit urlsCollected event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit urlsCollected event"},{"ancestorTitles":["Scraper","event emissions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Scraper event emissions should emit pageScraped event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit pageScraped event"}],"endTime":1762501978038,"message":"","name":"/home/yvany/developer/nextjs-pdf/tests/core/scraper.test.js","startTime":1762501961280,"status":"passed","summary":""}],"wasInterrupted":false}
